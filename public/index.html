<h1>Youtube Downloader</h1>

<input id="ytlink"  style="width:400px;height:30px"/>
<input type="button" onclick="downloadYT()" value="Download" style="height:30px"/>
    <br/><br/>
<div id="downloadLinks">

</div>

<script>
    var xhttp = new XMLHttpRequest();
    function downloadYT() {
        let ytlink = 'http://localhost:3000/ytdownload?ytLink=';
        let link = document.getElementById('ytlink').value;
        
        if(link) {
            ytlink += link;
            // ajax call here
            xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                console.log(this.responseText);
                var res=JSON.parse(this.responseText);
                //alert(res.link);
                document.getElementById("downloadLinks").innerHTML = "<a target='_blank' href='http://localhost:3000"+res.link+"' >Play here</a>";
            }
            };
            xhttp.open("GET", ytlink, true);
            xhttp.send();
            //
        } else {
            alert('provide link');
        }
    }
</script>